{% extends 'store/main.html' %}
{% load static %}
{% block content %}
<!--payment-->
<div class="col-12">
  <div class="row">
    <div class="col-md-6" id="saved-payment-methods">
      {% if not editing %}
      <!-- This is where the rendering and loop for displaying shippinginfo goes-->
      <h3> Saved Shipping Methods: </h3>
      {% for shipping in shipping_info %}
      <!-- This is where the program iterates through all the user's shipping methods -->
      <div class="col-6">
        
        
        <br>
        <form method="post" action="{% url 'shipping_methods' %}">
          {% csrf_token %}
          <input type="hidden" name="edit_shipping_id" value="{{ shipping.id }}">
          <button type="submit" name="action" value="show_edit_shipping_form">Edit</button>
        </form>
        
      </div>
      {% empty %}
      <div class="col-md-6">
        <h6> There are no shipping methods saved. Please add a shipping method.</h6>
      </div>
      {% endfor %}

      {% endif %}

      {% if editing %}
      <!-- Displays the Edit Shipping Form -->
      <h3> Edit Shipping Method:</h3>
      
      {% endif %}
    </div> <!-- This ends the section for showing/editing saved shipping methods -->

    {% if not adding %}
    <!-- Shows the button for adding a shipping so no bugs occur with multiple forms being rendered -->
    <form method="post" action="{% url 'accounts' %}">  
      {% csrf_token %}
      <input type="hidden" name="action" value="show_add_shipping_form">
      <button type="submit">Add Shipping</button>
    </form>
    {% endif %}

    {% if adding %}
    <!-- This is displays the add shipping form -->
    <div class="col-md-6" id="add-shipping-form">
      <h3> Add a Shipping Method: </h3>
      
    </div>
    {% endif %}
    {% if messages %}
    {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                {{ message }}
            </div>
        {% endfor %}
        {% endif %}
  </div> <!-- Div that is connected to the rows that hold both the add shipping and saved shipping -->
</div>

{% endblock %}
