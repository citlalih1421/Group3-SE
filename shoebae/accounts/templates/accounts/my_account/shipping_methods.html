{% extends 'store/main.html' %}
{% load static %}
{% block content %}

<!--payment-->
<div class="col-12">
  <div class="row">
    <div class="col-md-6" id="saved-shipping-methods">
      <h3> Saved Shipping Methods: </h3>
      {% for shipping in shipping_info %}
      {% if not editing %}
      <div class="col-6">
        Street: {{ shipping.street }}<br>
        City: {{ shipping.city }}<br>
        Zipcode: {{ shipping.zipcode }}<br>
        State: {{ shipping.state }}<br>
        Country: {{ shipping.country }}<br>
      
      <div> 
          <form method="post" action="{% url 'shipping_methods' %}">
            {% csrf_token %}
            <input type="hidden" name="edit_shipping_id" value="{{ shipping.id }}">
            <button type="submit">Edit</button>
          </form>
      {% else %}
      <form method="post" action="{% url 'shipping_methods' %}">
        {% csrf_token %}
        <div class="col-6">
          Street:
          <input type="text" name="street" class="form-control" placeholder="{{ shipping.street }}">
          <br>
          City:
          <input type="text" name="cardnumber" class="form-control" placeholder="{{ shipping.city }}">
          <br>
          Zipcode:
          <input type="number" name="zipcode" class="form-control" placeholder="{{ shipping.zipcode }}">
          <br>
          State:
          <input type="text" name="state" class="form-control" placeholder="{{ shipping.state }}">
          <br>
          Country:
          <input type="text" name="country" class="form-control" placeholder="{{ shipping.country }}">
          <br>
        </div>
        <button type="submit" class="btn btn-primary">Save Changes</button>
      </form>      
      {% endif %}
          <form method="post" action="{% url 'shipping_methods' %}">
            {% csrf_token %}
            <input type="hidden" name="delete_shipping_id" value="{{ shipping.id }}">
            <button type="submit">Delete</button>
        </form>        
        </div>
      </div>
      {% empty %}
      <div class="col-md-6">
        <h6> There are no shipping methods saved. Please add a shipping method.</h6>
      </div>
      {% endfor %}
    </div>
    {% if not editing %}
    <div class="col-md-6" id="add-shipping-form">
      <h3> Add a Shipping Method: </h3>
      <form method="post" id="shipping_methods" name="shipping_methods">
        {% csrf_token %}
        <div class="form-group" id="street">
          <label for="street">Street</label>
          <input type="text" id="street" name="street" class="form-control" placeholder="Street Address">
        </div>
        <div class="form-group" id="city">
          <label for="city">City</label>
          <input type="text" id="city" name="city" class="form-control" placeholder="City">
        </div>
        <div class="form-group" id="state">
          <label for="state">State</label>
          <input type="text" id="state" name="state" class="form-control" placeholder="State">
        </div>
        <div class="form-group" id="zipcode">
          <label for="zipcode">Zipcode</label>
          <input type="number" id="zipcode" name="zipcode" class="form-control" placeholder="Zipcode">
        </div>
        <div class="form-group" id="country">
          <label for="country">Country</label>
          <input type="text" id="country" name="country" class="form-control" placeholder="Country">
        </div>
        <div class="form-group" id="is_default">
          <label for="is_default">
            <input type="checkbox" id="is_default" name="is_default" class="form-check-label"> Make this your default shipping method
          </label>
        </div>
        <button id="form-button" type="submit" class="btn btn-primary">Submit</button>
    </form>
    </div>
    {% endif %}
  </div>
</div>

{% endblock %}
